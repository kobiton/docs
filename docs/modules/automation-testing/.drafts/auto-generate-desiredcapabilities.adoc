= Auto-generate `DesiredCapabilities`
:navtitle: Auto-generate `DesiredCapabilities`

Learn how to auto-generate desired capabilities you can add to your automation script.

== Choose capabilities

First, xref:devices:find-a-device.adoc[find a device], select the *vertical ellipses* and open *Automation Settings*. Then choose from the xref:list-of-desired-capabilities.adoc[list of desired capabilities].

image:$NEEDSIMAGE$[alt=""]

As you choose capabilities, your `DesiredCapabilities` object will auto-generate.

Here's an example:

[source,python]
----
kobitonServerUrl = 'https://docsWriter:000abc123@api.kobiton.com/wd/hub'

desired_caps = {
  'sessionName':        'Biometric authentication',
  'sessionDescription': 'Testing biometric authentication for the login screen.',
  'deviceOrientation':  'portrait',
  'noReset':            True,
  'fullReset':          False,
  'captureScreenshots': True,
  'useConfiguration':   '',
  'autoWebview':        True,
  'browserName':        'safari',
  'groupId': 0011, # Group: Docs Team
  'deviceGroup':        'ORGANIZATION',
  'deviceName':         'iPhone XS',
  'tagName':            '',
  'platformName':       'iOS',
  'platformVersion':    '15.5'
}
----

When you're finished, select *Copy to Clipboard* add the auto-generated `DesiredCapabilities` to your test suite.

== Add it to your test

Open your automation test script and paste the `DesiredCapabilities` object into the script. When you're finished, save your changes.

Here's an example:

[source,python]
----
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

# Desired capabilities
kobitonServerUrl = 'https://docsWriter:000abc123@api.kobiton.com/wd/hub'

desired_caps = {
    'sessionName': 'Biometric authentication',
    'sessionDescription': 'Testing biometric authentication for the login screen.',
    'deviceOrientation': 'portrait',
    'noReset': True,
    'fullReset': False,
    'captureScreenshots': True,
    'useConfiguration': '',
    'autoWebview': True,
    'browserName': 'safari',
    'groupId': 0011,  # Group: Docs Team
    'deviceGroup': 'ORGANIZATION',
    'deviceName': 'iPhone XS',
    'tagName': '',
    'platformName': 'iOS',
    'platformVersion': '15.5'
}

# Test case
def test_biometric_authentication():
    try:
        # Look for the XPath containing the words "Log In" and select the element.
        wait = WebDriverWait(driver, 10)
        log_in_element = wait.until(EC.presence_of_element_located((By.XPATH, '//XCUIElementTypeStaticText[@id="Log In"]')))
        log_in_element.click()

        # Wait for 20 seconds for the biometric authentication screen to load.
        driver.implicitly_wait(20)

        # Simulate the end-user authenticating themselves.
        driver.execute('mobile:biometrics-authenticate', {'result': 'passed'})

    # Catch any errors that occur.
    except Exception as e:

        # Log the error in the console.
        print(e)

        # Throw the error to stop the test.
        raise e

# Create the WebDriver instance with desired capabilities
driver = webdriver.Firefox()

# Set the desired capabilities
driver.desired_capabilities.update(desired_caps)

# Run the test case
test_biometric_authentication()

# Quit the driver to end the test.
driver.quit()
----
