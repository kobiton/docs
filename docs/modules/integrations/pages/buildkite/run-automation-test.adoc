= Run automation test
:navtitle: Run automation test

Lear how to ...

== Kobiton Execute Test

To execute your test with Kobiton Executor, add the following to your pipeline. yml:

[source,yaml]
----
steps:
- label: 'Kobiton Execute Test'
plugins:
- kobiton/kobiton-execute-test#v1.0.0:
   kobi-username: 'your kobiton username'
   kobi-api-key: 'your kobiton api key'
   executor-url: 'https://executor-demo.kobiton.com'
   executor-username: 'your kobiton executor server username'
   executor-password: 'your kobiton executor server password'
   git-repo-url: 'https://github.com/Nhattd97/azure-devops-sample-java-prod.git'
   git-repo-branch: 'master'
   git-repo-ssh-key: ''
   app-id: 'kobiton-store:91041'
   root-directory: '/'
   command: 'mvn test'
   device-name: 'Galaxy S10'
   device-platform-version: '10'
   use-custom-device: 'false'
   device-platform: 'android'
   wait-for-execution: 'true'
   log-type: 'combined'
----

[cols="1,1",options="header"]
|===
| Configuration
| Description
| kobi-username (required)
kobi-api-key (required)
| To get your Kobiton Username and API Key, please follow instructions at _IV. Configure Test Script for Kobiton_ section on link:https://kobiton.com/blog/tutorial/parallel-testing-selenium-webdriver/[our blog]
| executor-url (required)
executor-username (required)
executor-password (required)
| We will provide you credentials to access our TestNG Execution Server. This will be used to execute your automation test script.
| git-repo-url (required)
git-repo-branch (required)
git-repo-ssh-key
| You need to prepare your automation test project in a Git-based repository. For your security, we highly recommend setting your Git repository to Private and prepare an SSH key for it. If you do not know how to authenticate the key with Git, please follow the guide from link:https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/[Github create SSH key instruction] and link:https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/[Github adding the key to account instruction].
* git-repo-url: This is the URL to your Git repository that contains your TestNG test script.
* git-repo-branch: The branch of the repository to execute automation test script.
* git-repo-ssh-key: The SSH Key of the above repository.
| app-id
| You can retrieve app-id from App Repo on Portal. Reference: link:https://support.kobiton.com/hc/articles/360056028911-Managing-Applications-#app-tiles-0-0
| root-directory (required)
command (required)
| Input the root directory of your Git repo and the command lines to install dependencies and execute your automation test script. These commands will run from the root directory of your Git repository.
| use-custom-device
| If you haven't set the device information in your script, set this to “true” to choose a device to execute your test script.
| device-name
device-platform-version
device-platform
| if above config is true, provide the info of the device you want to use to run the test.
|wait-for-execution
|Set to “true” if you want the release pipeline to wait until your automation testing is completed or failed, then print out the console log and test result. +
If it's set to “false”, the release pipeline will continue to the next step. The execution job ID of this task will be printed, but not the console logs or TestNG report URL.

|log-type
|Your desired log type to be showed. Choose “combined” to show logs in chronological order, or specify a specific type of log ("output" or "error").
|===

Example:

image:integrations:test-execution-config.png[width=1000,alt="Test execution configuration"]

Once you're done adding the plugin to your pipeline, select “Save and Build”, then click “Create Build” to proceed.
